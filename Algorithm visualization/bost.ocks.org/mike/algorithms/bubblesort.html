<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

	<title>Bubble Sort Visualization</title>

	<script src="https://cdn.jsdelivr.net/npm/p5@1.0.0/lib/p5.min.js"></script>
	
	<!--<script src="sketch.js"></script>-->
	<style type="text/css">
		#container{
			border-color: black;
			border-style: solid;
			border-width: 5px;
			padding: 0px 0px;
		}
		.k{
			font-weight: bold;
		}
	</style>
</head>

<body>
	<div class="container mt-3">
		<h1>Bubble sort</h1>
	</div>
	<br>
	<div id="container" class="container content-center"></div>
	<br>
	<div class="container text-center">
		<button class="btn btn-primary" onclick="window.location.reload();">Play again</button>
	</div>
	<br>
	<br>
	<div class="container">
		<p>
			<b>Bubble sort</b>, sometimes referred to as <b>sinking sort</b>, is a simple <a href="/wiki/Sorting_algorithm" title="Sorting algorithm">sorting algorithm</a> that repeatedly steps through the list, compares adjacent elements and <a href="/wiki/Swap_(computer_science)" class="mw-redirect" title="Swap (computer science)">swaps</a> them if they are in the wrong order. The pass through the list is repeated until the list is sorted. The algorithm, which is a <a href="/wiki/Comparison_sort" title="Comparison sort">comparison sort</a>, is named for the way smaller or larger elements "bubble" to the top of the list. 

		</p>
		<p>
			Bubble sort has a worst-case and average complexity of <i><a href="/wiki/Big_o_notation" class="mw-redirect" title="Big o notation">О</a></i>(<i>n</i><sup>2</sup>), where <i>n</i> is the number of items being sorted. Most practical sorting algorithms have substantially better worst-case or average complexity, often <i>O</i>(<i>n</i>&nbsp;log&nbsp;<i>n</i>). Even other <i>О</i>(<i>n</i><sup>2</sup>) sorting algorithms, such as <a href="/wiki/Insertion_sort" title="Insertion sort">insertion sort</a>, generally run faster than bubble sort, and are no more complex. Therefore, bubble sort is not a practical sorting algorithm.

		</p>
		<p>
			The only significant advantage that bubble sort has over most other algorithms, even <a href="/wiki/Quicksort" title="Quicksort">quicksort</a>, but not <a href="/wiki/Insertion_sort" title="Insertion sort">insertion sort</a>, is that the ability to detect that the list is sorted efficiently is built into the algorithm. When the list is already sorted (best-case), the complexity of bubble sort is only <i>O</i>(<i>n</i>). By contrast, most other algorithms, even those with better <a href="/wiki/Average-case_complexity" title="Average-case complexity">average-case complexity</a>, perform their entire sorting process on the set and thus are more complex. However, not only does <a href="/wiki/Insertion_sort" title="Insertion sort">insertion sort</a> share this advantage, but it also performs better on a list that is substantially sorted (having a small number of <a href="/wiki/Inversion_(discrete_mathematics)" title="Inversion (discrete mathematics)">inversions</a>).

		</p>
		<br>
		<h4>Algorithm:</h4>
		<div class="bg-secondary">
				<span></span><span class="k">procedure</span> <span class="nf">bubbleSort</span><span class="p">(</span><span class="n">A</span> <span class="o">:</span> <span class="n">list</span> <span class="k">of</span> <span class="n">sortable</span> <span class="n">items</span><span class="p">)</span><br>
    			&nbsp&nbsp&nbsp&nbsp<span class="n">n</span> <span class="o">:=</span> <span class="nb">length</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><br>
    			&nbsp&nbsp&nbsp&nbsp<span class="k">repeat</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="n">swapped</span> <span class="o">=</span> <span class="k">false</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="mi">1</span> <span class="k">to</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="n">inclusive</span> <span class="k">do</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="o">/*</span> <span class="k">if</span> <span class="n">this</span> <span class="n">pair</span> <span class="k">is</span> <span class="n">out</span> <span class="k">of</span> <span class="n">order</span> <span class="o">*/</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">then</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="o">/*</span> <span class="nb">swap</span> <span class="n">them</span> <span class="k">and</span> <span class="n">remember</span> <span class="n">something</span> <span class="n">changed</span> <span class="o">*/</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="nb">swap</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">,</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="n">swapped</span> <span class="o">:=</span> <span class="k">true</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="k">end</span> <span class="k">if</span><br>
		        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<span class="k">end</span> <span class="k">for</span><br>
		    	&nbsp&nbsp&nbsp&nbsp<span class="k">until</span> <span class="k">not</span> <span class="n">swapped</span><br>
				<span class="k">end</span> <span class="k">procedure</span><br>
		</div>
	</div>
</body>
<script>
	let values = [];

	let i = 0;
	let j = 0;
	let w = 10;

	function setup() {
		var canvasDiv = document.getElementById('container');
    	var div_width = canvasDiv.offsetWidth;
	  let cnv = createCanvas(div_width-10, 300);
	  cnv.parent('container');
	  values = new Array(floor(width/w));
	  for (let i = 0; i < values.length; i++) {
	    values[i] = random(height);
	    //values[i] = noise(i/100.0)*height;
	  }
	}

	// new p5(sketch, 'container');

	function draw() {
	  background(0);

	  if (i < values.length) {
	    for (let j = 0; j < values.length - i - 1; j++) {
	      let a = values[j];
	      let b = values[j + 1];
	      if (a > b) {
	        swap(values, j, j + 1);
	      }
	    }
	  } else {
	    console.log('finished');
	    noLoop();
	  }
	  i++;

	  for (let i = 0; i < values.length; i++) {
	    stroke(255);
	    rect(i*w, height-values[i], w, values[i]);
	  }
	}

	function swap(arr, a, b) {
	  let temp = arr[a];
	  arr[a] = arr[b];
	  arr[b] = temp;
	}
</script>

</html>
